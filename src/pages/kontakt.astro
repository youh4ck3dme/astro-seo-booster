---
import BaseLayout from "../layouts/BaseLayout.astro";
import QuoteForm from "../features/home/QuoteForm.astro";
import { siteConfig } from "../core/siteConfig";

const seo = {
  title: "Kontakt ‚Äì VI&MO S≈•ahovanie Bratislava",
  description: "Kontaktujte VI&MO s≈•ahovanie pre nez√°v√§zn√∫ cenov√∫ ponuku s≈•ahovania v Bratislave. Telef√≥n, email, adresa."
};
---

<BaseLayout {...seo}>
  <div class="contact-page py-12 md:py-20">
    <div class="container mx-auto max-w-7xl px-4 md:px-6">
      <div class="space-y-12">
        {/* Header */}
        <div class="text-center md:text-left space-y-4">
          <h1 class="font-black text-4xl md:text-5xl lg:text-6xl text-gray-900 leading-tight" style="font-family: 'Nunito Sans', sans-serif;">
            Kontakt
          </h1>
          <p class="text-xl text-gray-600 max-w-2xl">
            Sme tu pre v√°s. Kontaktujte n√°s telefonicky, emailom alebo vypl≈àte formul√°r.
          </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
          {/* Contact Information */}
          <div class="space-y-8">
            <div class="contact-card">
              <h2 class="card-title">Kontaktn√© √∫daje</h2>
              <div class="info-items space-y-8">
                {/* Phone */}
                <div class="info-item">
                  <div class="item-icon">üìû</div>
                  <div class="item-details">
                    <span class="item-label">Telef√≥n</span>
                    <a 
                      href={`tel:${siteConfig.phone.replace(/\s/g, '')}`} 
                      class="item-link phone-link"
                      id="track-phone"
                    >
                      {siteConfig.phone}
                    </a>
                    <p class="item-note">Po-Pia 8:00 - 18:00</p>
                  </div>
                </div>

                {/* Email */}
                <div class="info-item">
                  <div class="item-icon">‚úâÔ∏è</div>
                  <div class="item-details">
                    <span class="item-label">Email</span>
                    <a 
                      href={`mailto:${siteConfig.email}`} 
                      class="item-link email-link"
                      id="track-email"
                    >
                      {siteConfig.email}
                    </a>
                    <p class="item-note">Odpoved√°me do 24 hod√≠n</p>
                  </div>
                </div>

                {/* Address */}
                <div class="info-item">
                  <div class="item-icon">üìç</div>
                  <div class="item-details">
                    <span class="item-label">Adresa</span>
                    <p class="item-value">{siteConfig.addressLine}</p>
                  </div>
                </div>

                {/* Business Info */}
                <div class="info-item">
                  <div class="item-icon">üìù</div>
                  <div class="item-details">
                    <span class="item-label">Firemn√© √∫daje</span>
                    <div class="business-grid">
                      <p>IƒåO: {siteConfig.ico}</p>
                      <p>DIƒå: {siteConfig.dic}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="promo-banner">
              <p>
                <strong>Pracujeme v celej Bratislave a okol√≠.</strong><br />
                Na ≈æelanie zabezpeƒç√≠me s≈•ahovanie aj do in√Ωch miest na Slovensku.
              </p>
            </div>
            <div class="map-container overflow-hidden rounded-3xl border border-gray-100 shadow-lg h-[300px]">
              <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2657.340003054173!2d17.149171776856526!3d48.204642971253455!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x476c8f615fbd7e3d%3A0xc3f5ce636253412a!2zS2FycGF0c2vDqSBuw6FtdWVzdGllIDEwL0EsIDgzMSAwNiBCcmF0aXNsYXZhIC0gUmHDj2E!5e0!3m2!1ssk!2ssk!4v1707000000000!5m2!1ssk!2ssk" 
                width="100%" 
                height="100%" 
                style="border:0;" 
                allowfullscreen="" 
                loading="lazy" 
                referrerpolicy="no-referrer-when-downgrade"
              ></iframe>
            </div>
          </div>

          {/* Quote Form */}
          <div class="form-container">
            <QuoteForm hideHeader={false} />
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    import { trackPhoneClick, trackEmailClick } from "../core/analytics";
    
    const phoneLink = document.getElementById('track-phone');
    const emailLink = document.getElementById('track-email');

    if (phoneLink) {
      phoneLink.addEventListener('click', () => trackPhoneClick());
    }
    if (emailLink) {
      emailLink.addEventListener('click', () => trackEmailClick());
    }
  </script>
</BaseLayout>

<style>
  .contact-page {
    background: #ffffff;
  }
  .contact-card {
    background: #f8fafc;
    border-radius: 32px;
    padding: 40px;
    border: 1px solid #f1f5f9;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
  }
  .card-title {
    font-size: 24px;
    font-weight: 800;
    margin-bottom: 32px;
    color: #111827;
    font-family: 'Nunito Sans', sans-serif;
  }
  .info-item {
    display: flex;
    gap: 20px;
  }
  .item-icon {
    width: 48px;
    height: 48px;
    background: white;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    border: 1px solid #e2e8f0;
    flex-shrink: 0;
  }
  .item-label {
    display: block;
    font-size: 14px;
    font-weight: 700;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 4px;
  }
  .item-link {
    font-size: 20px;
    font-weight: 700;
    color: #4f46e5;
    text-decoration: none;
    transition: color 0.2s ease;
  }
  .item-link:hover {
    color: #4338ca;
    text-decoration: underline;
  }
  .item-value {
    font-size: 18px;
    font-weight: 600;
    color: #1e293b;
  }
  .item-note {
    font-size: 13px;
    color: #94a3b8;
    margin-top: 4px;
  }
  .business-grid {
    font-size: 15px;
    color: #475569;
    font-weight: 500;
    line-height: 1.6;
  }
  .promo-banner {
    background: linear-gradient(135deg, rgba(79, 70, 229, 0.05) 0%, rgba(6, 95, 70, 0.05) 100%);
    padding: 24px;
    border-radius: 20px;
    border: 1px solid rgba(79, 70, 229, 0.1);
    text-align: center;
    color: #475569;
  }
  .promo-banner strong {
    color: #1e293b;
  }
  @media (max-width: 640px) {
    .contact-card {
      padding: 24px;
    }
    .item-link {
      font-size: 18px;
    }
  }
</style>
